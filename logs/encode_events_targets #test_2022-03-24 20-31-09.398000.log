2022-03-24 20:31:09 test.py[line:20] INFO DevConfig(DATASET_DIR='D:/A日常/大学/毕业设计/dataset/maestro-v3.0.0/', WORKSPACE='D:/A日常/大学/毕业设计/code/yui/', TRAIN_STEPS=200, DEVICE='cpu', RANDOM_SEED=233, MAX_INPUTS_LENGTH=512, MAX_TARGETS_LENGTH=1024, MAX_SEGMENT_LENGTH=2000, PROGRAM_GRANULARITY='flat', SAMPLE_RATE=16000, FRAME_SIZE=128, HOP_WIDTH=128, NUM_MEL_BINS=512, FFT_SIZE=2048, MEL_LO_HZ=20.0, MEL_HI_HZ=8000.0, ENCODED_EOS_ID=1, ENCODED_UNK_ID=2, EXTRA_IDS=100, DECODED_EOS_ID=-1, DECODED_INVALID_ID=-2, STEPS_PER_SECOND=100, MAX_SHIFT_SECONDS=10, NUM_VELOCITY_BINS=127)
2022-03-24 20:31:09 datasets.py[line:41] INFO get meta=(0, 16.384) of audio='2015/MIDI-Unprocessed_R1_D1-1-8_mid--AUDIO-from_mp3_06_R1_2015_wav--3.wav'
2022-03-24 20:31:12 datasets.py[line:52] INFO audio.shape=(65536,)
2022-03-24 20:31:12 preprocessors.py[line:245] INFO Got audio for ns.id='(0, 16.384)'::ns.filename='' with length 65536
2022-03-24 20:31:12 preprocessors.py[line:130] INFO Padded 65536 samples to multiple of 128
2022-03-24 20:31:12 preprocessors.py[line:135] INFO librosa.util.frame: frames.shape=(512, 128)
2022-03-24 20:31:12 preprocessors.py[line:141] INFO Encoded 65536 samples to 512 frames, 128 samples each
2022-03-24 20:31:13 preprocessors.py[line:169] INFO Got audio for ns.id='(0, 16.384)'::ns.filename='' with length 65536
2022-03-24 20:31:13 preprocessors.py[line:130] INFO Padded 65536 samples to multiple of 128
2022-03-24 20:31:13 preprocessors.py[line:135] INFO librosa.util.frame: frames.shape=(512, 128)
2022-03-24 20:31:13 preprocessors.py[line:141] INFO Encoded 65536 samples to 512 frames, 128 samples each
2022-03-24 20:31:13 preprocessors.py[line:210] INFO trim featrue: start=2048, end=2560, start_time=16.384, frame_times[start]=16.384
2022-03-24 20:31:13 preprocessors.py[line:475] INFO features["targets"].shape=(8290,)
2022-03-24 20:31:13 preprocessors.py[line:477] INFO features["targets"].shape=(733,), target_start_idx=3240 target_end_idx=3973
2022-03-24 20:31:13 preprocessors.py[line:518] INFO targets, features[key].shape=(733,)
2022-03-24 20:31:13 preprocessors.py[line:520] INFO targets, features[key].shape=(625,)
2022-03-24 20:31:13 preprocessors.py[line:547] INFO len(state_change_event_ranges)=2, state_change_event_ranges=[(1129, 1256), (1258, 1385)]
2022-03-24 20:31:13 preprocessors.py[line:548] INFO before RLE, features[key].shape=(625,)
2022-03-24 20:31:13 preprocessors.py[line:549] INFO features[key]=array(
[1129, 1049, 1129, 1069, 1129, 1073, 1129, 1055, 1129, 1052,    1,
       1129, 1076,    1, 1129, 1043,    1,    1, 1129, 1081,    1,    1,
          1,    1,    1,    1,    1,    1,    1,    1,    1,    1,    1,
          1,    1,    1,    1,    1,    1,    1,    1,    1,    1,    1,
          1,    1,    1, 1239, 1074, 1227, 1086, 1220, 1054, 1219, 1081,
          1, 1215, 1042, 1215, 1078, 1206, 1050,    1, 1198, 1045,    1,
          1,    1,    1,    1,    1, 1129, 1074, 1129, 1054,    1, 1129,
       1078,    1, 1129, 1042,    1, 1129, 1045, 1129, 1050,    1, 1129,
       1081,    1,    1, 1129, 1086,    1,    1,    1,    1,    1,    1,
          1,    1,    1,    1,    1,    1,    1,    1,    1,    1,    1,
          1,    1,    1,    1,    1,    1,    1,    1, 1221, 1053, 1237,
       1079, 1233, 1091,    1, 1212, 1083,    1, 1207, 1041, 1211, 1047,
       1212, 1050, 1216, 1086,    1,    1,    1,    1,    1, 1129, 1053,
          1, 1129, 1079,    1,    1, 1129, 1041,    1, 1129, 1083,    1,
       1129, 1047, 1129, 1050, 1129, 1086,    1,    1, 1129, 1091,    1,
          1,    1,    1,    1,    1,    1,    1,    1,    1,    1,    1,
          1,    1,    1,    1,    1,    1,    1,    1,    1,    1,    1,
       1225, 1052,    1,    1, 1234, 1084, 1213, 1040, 1209, 1048, 1218,
       1088, 1237, 1096,    1, 1201, 1043, 1221, 1091,    1,    1,    1,
       1164, 1093,    1,    1,    1, 1129, 1084,    1,    1, 1129, 1040,
       1129, 1043, 1129, 1052, 1129, 1093,    1, 1129, 1048,    1, 1129,
       1096, 1129, 1088, 1129, 1091,    1,    1,    1,    1,    1,    1,
          1,    1,    1,    1,    1,    1,    1,    1,    1,    1,    1,
          1,    1,    1,    1,    1,    1,    1,    1,    1,    1,    1,
          1, 1227, 1051, 1217, 1045, 1209, 1048, 1234, 1089, 1215, 1093,
       1220, 1096, 1236, 1101,    1, 1217, 1039,    1,    1,    1,    1,
          1, 1129, 1051,    1,    1, 1129, 1039, 1129, 1101,    1, 1129,
       1048,    1, 1129, 1089, 1129, 1096,    1, 1129, 1045,    1,    1,
       1129, 1093,    1,    1,    1,    1,    1,    1,    1,    1,    1,
          1,    1,    1,    1,    1,    1,    1,    1,    1,    1,    1,
          1,    1,    1,    1,    1,    1,    1,    1,    1,    1,    1,
          1,    1,    1,    1,    1, 1225, 1050, 1233, 1082, 1220, 1089,
       1235, 1094,    1, 1212, 1038, 1209, 1046,    1, 1196, 1041,    1,
          1,    1,    1,    1,    1,    1,    1,    1,    1,    1,    1,
          1,    1,    1,    1,    1,    1,    1,    1, 1129, 1082,    1,
       1129, 1038,    1,    1,    1, 1129, 1094,    1,    1,    1,    1,
       1129, 1050, 1129, 1046, 1129, 1089,    1, 1129, 1041,    1,    1,
          1,    1,    1,    1,    1,    1,    1,    1,    1,    1,    1,
          1,    1,    1,    1,    1,    1,    1,    1,    1,    1,    1,
          1,    1,    1,    1,    1,    1,    1,    1,    1,    1,    1,
          1,    1,    1,    1,    1,    1,    1,    1,    1,    1,    1,
          1,    1,    1,    1,    1,    1,    1,    1,    1,    1,    1,
          1,    1,    1,    1,    1,    1,    1,    1,    1, 1231, 1051,
       1237, 1102, 1218, 1039, 1211, 1046, 1233, 1090, 1224, 1094, 1223,
       1099,    1, 1208, 1042,    1,    1,    1,    1,    1,    1,    1,
          1,    1,    1,    1,    1,    1,    1,    1,    1, 1129, 1102,
          1,    1,    1,    1,    1,    1, 1129, 1099,    1,    1,    1,
       1129, 1090,    1, 1129, 1039,    1, 1129, 1094,    1,    1, 1129,
       1051,    1,    1,    1, 1129, 1042,    1, 1129, 1046,    1,    1,
          1,    1,    1,    1,    1,    1,    1,    1,    1,    1,    1,
          1,    1,    1,    1,    1,    1,    1,    1,    1,    1,    1,
          1,    1,    1,    1,    1,    1,    1,    1,    1,    1,    1,
          1,    1,    1,    1,    1,    1,    1,    1,    1,    1,    1,
          1,    1,    1,    1,    1,    1,    1,    1,    1,    1,    1,
          1,    1,    1,    1,    1,    1,    1,    1,    1,    1,    1,
          1,    1,    1,    1,    1,    1, 1226, 1054, 1221, 1059, 1225,
       1063,    1, 1219, 1047,    1,    1,    1,    1,    1])
2022-03-24 20:31:13 preprocessors.py[line:593] INFO after RLE, features[key].shape=(223,)
2022-03-24 20:31:13 datasets.py[line:72] INFO 

t1=array([
1129, 1049, 1069, 1073, 1055, 1052,  
16.384，开头处，明明time<16.384却被拉进来
1, 1076,    2, 1043,    4,
       1081,   31, 1239, 1074, 1227, 1086, 1220, 1054, 1219, 1081,   32,
       1215, 1042, 1078, 1206, 1050,   33, 1198, 1045,   39, 1129, 1074,
       1054,   40, 1078,   41, 1042,   42, 1045, 1050,   43, 1081,   45,
       1086,   70, 1221, 1053, 1237, 1079, 1233, 1091,   71, 1212, 1083,
         72, 1207, 1041, 1211, 1047, 1212, 1050, 1216, 1086,   77, 1129,
       1053,   78, 1079,   80, 1041,   81, 1083,   82, 1047, 1050, 1086,
         84, 1091,  107, 1225, 1052,  109, 1234, 1084, 1213, 1040, 1209,
       1048, 1218, 1088, 1237, 1096,  110, 1201, 1043, 1221, 1091,  113,
       1164, 1093,  116, 1129, 1084,  118, 1040, 1043, 1052, 1093,  119,
       1048,  120, 1096, 1088, 1091,  149, 1227, 1051, 1217, 1045, 1209,
       1048, 1234, 1089, 1215, 1093, 1220, 1096, 1236, 1101,  150, 1217,
       1039,  155, 1129, 1051,  157, 1039, 1101,  158, 1048,  159, 1089,
       1096,  160, 1045,  162, 1093,  198, 1225, 1050, 1233, 1082, 1220,
       1089, 1235, 1094,  199, 1212, 1038, 1209, 1046,  200, 1196, 1041,
        220, 1129, 1082,  221, 1038,  224, 1094,  228, 1050, 1046, 1089,
        229, 1041,  295, 1231, 1051, 1237, 1102, 1218, 1039, 1211, 1046,
       1233, 1090, 1224, 1094, 1223, 1099,  296, 1208, 1042,  312, 1129,
       1102,  318, 1099,  321, 1090,  322, 1039,  323, 1094,  325, 1051,
        328, 1042,  329, 1046,  403, 1226, 1054, 1221, 1059, 1225, 1063,
        404, 1219, 1047]), 
        
t2=array([
1, 1049, 1069, 1073, 1055, 1052,    
16.384，开头处出错的5个事件，明明time<16.384却被拉进来
2, 1076,    3, 1043,    5,
       1081,   32, 1239, 1074, 1227, 1086, 1220, 1054, 1219, 1081,   33,
       1215, 1042, 1078, 1206, 1050,   34, 1198, 1045,   40, 1129, 1074,
       1054,   41, 1078,   42, 1042,   43, 1045, 1050,   44, 1081,   46,
       1086,   71, 1221, 1053, 1237, 1079, 1233, 1091,   72, 1212, 1083,
         73, 1207, 1041, 1211, 1047, 1212, 1050, 1216, 1086,   78, 1129,
       1053,   79, 1079,   81, 1041,   82, 1083,   83, 1047, 1050, 1086,
         85, 1091,  108, 1225, 1052,  110, 1234, 1084, 1213, 1040, 1209,
       1048, 1218, 1088, 1237, 1096,  111, 1201, 1043, 1221, 1091,  114,
       1164, 1093,  117, 1129, 1084,  119, 1040, 1043, 1052, 1093,  120,
       1048,  121, 1096, 1088, 1091,  150, 1227, 1051, 1217, 1045, 1209,
       1048, 1234, 1089, 1215, 1093, 1220, 1096, 1236, 1101,  151, 1217,
       1039,  156, 1129, 1051,  158, 1039, 1101,  159, 1048,  160, 1089,
       1096,  161, 1045,  163, 1093,  199, 1225, 1050, 1233, 1082, 1220,
       1089, 1235, 1094,  200, 1212, 1038, 1209, 1046,  201, 1196, 1041,
        221, 1129, 1082,  222, 1038,  225, 1094,  229, 1050, 1046, 1089,
        230, 1041,  296, 1231, 1051, 1237, 1102, 1218, 1039, 1211, 1046,
       1233, 1090, 1224, 1094, 1223, 1099,  297, 1208, 1042,  313, 1129,
       1102,  319, 1099,  322, 1090,  323, 1039,  324, 1094,  326, 1051,
        329, 1042,  330, 1046,  404, 1226, 1054, 1221, 1059, 1225, 1063,
        405, 1219, 1047
])

2022-03-24 20:31:13 datasets.py[line:73] INFO t1==t2=array([False,  True,  True,  True,  True,  True, False,  True, False,
        True, False,  True, False,  True,  True,  True,  True,  True,
        True,  True,  True, False,  True,  True,  True,  True,  True,
       False,  True,  True, False,  True,  True,  True, False,  True,
       False,  True, False,  True,  True, False,  True, False,  True,
       False,  True,  True,  True,  True,  True,  True, False,  True,
        True, False,  True,  True,  True,  True,  True,  True,  True,
        True, False,  True,  True, False,  True, False,  True, False,
        True, False,  True,  True,  True, False,  True, False,  True,
        True, False,  True,  True,  True,  True,  True,  True,  True,
        True,  True,  True, False,  True,  True,  True,  True, False,
        True,  True, False,  True,  True, False,  True,  True,  True,
        True, False,  True, False,  True,  True,  True, False,  True,
        True,  True,  True,  True,  True,  True,  True,  True,  True,
        True,  True,  True,  True, False,  True,  True, False,  True,
        True, False,  True,  True, False,  True, False,  True,  True,
       False,  True, False,  True, False,  True,  True,  True,  True,
        True,  True,  True,  True, False,  True,  True,  True,  True,
       False,  True,  True, False,  True,  True, False,  True, False,
        True, False,  True,  True,  True, False,  True, False,  True,
        True,  True,  True,  True,  True,  True,  True,  True,  True,
        True,  True,  True,  True, False,  True,  True, False,  True,
        True, False,  True, False,  True, False,  True, False,  True,
       False,  True, False,  True, False,  True, False,  True,  True,
        True,  True,  True,  True, False,  True,  True])
2022-03-24 20:31:13 preprocessors.py[line:604] INFO samples.shape=(65536,)
2022-03-24 20:31:13 preprocessors.py[line:633] INFO log_mel_spec.shape=(512, 512)
2022-03-24 20:31:13 preprocessors.py[line:654] INFO before tokenize, v[:20]=array([1129, 1049, 1069, 1073, 1055, 1052,    1, 1076,    2, 1043,    4,
       1081,   31, 1239, 1074, 1227, 1086, 1220, 1054, 1219]), [ 322 1039  323 1094  325 1051  328 1042  329 1046  403 1226 1054 1221
 1059 1225 1063  404 1219 1047]
2022-03-24 20:31:13 preprocessors.py[line:662] INFO after tokenize, v[:20]=array([1132, 1052, 1072, 1076, 1058, 1055,    4, 1079,    5, 1046,    7,
       1084,   34, 1242, 1077, 1230, 1089, 1223, 1057, 1222]), [1042  326 1097  328 1054  331 1045  332 1049  406 1229 1057 1224 1062
 1228 1066  407 1222 1050    1]
