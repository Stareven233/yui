2022-04-28 15:35:48 evaluate.py[line:263] INFO YuiConfigDev(RANDOM_SEED=233, DATASET_DIR='D:/A日常/大学/毕业设计/dataset/maestro-v3.0.0_hdf5/', DATAMETA_NAME='maestro-v3.0.0.csv', WORKSPACE='D:/A日常/大学/毕业设计/code/yui/', MAX_INPUTS_LENGTH=512, MAX_TARGETS_LENGTH=1024, PROGRAM_GRANULARITY='flat', SAMPLE_RATE=16000, FRAME_SIZE=128, HOP_WIDTH=128, NUM_MEL_BINS=256, FFT_SIZE=2048, MEL_LO_HZ=20.0, MEL_HI_HZ=8000.0, PAD_ID=0, ENCODED_EOS_ID=1, ENCODED_UNK_ID=2, EXTRA_IDS=100, DECODED_EOS_ID=-1, DECODED_INVALID_ID=-2, STEPS_PER_SECOND=100, MAX_SHIFT_SECONDS=10, NUM_VELOCITY_BINS=127, CUDA=True, BATCH_SIZE=16, EXPECT_BATCH_SIZE=128, NUM_WORKERS=3, NUM_EPOCHS=160, TRAIN_ITERATION=600, LEARNING_RATE=0.001, OVERFIT_PATIENCE=8, MODEL_SUFFIX='_kaggle')
2022-04-28 15:35:48 evaluate.py[line:265] INFO Using GPU.
2022-04-28 15:35:48 evaluate.py[line:266] INFO GPU number: 1
2022-04-28 15:35:48 evaluate.py[line:285] INFO The model has 5,118,208 trainable parameters
2022-04-28 15:35:49 evaluate.py[line:215] INFO -------eval starts-------
2022-04-28 15:38:11 evaluate.py[line:231] INFO eval: iteration=5, in 142.028s
2022-04-28 15:40:46 evaluate.py[line:231] INFO eval: iteration=10, in 154.540s
2022-04-28 15:41:59 evaluate.py[line:231] INFO eval: iteration=15, in 72.960s
2022-04-28 15:42:59 evaluate.py[line:242] INFO -------eval exits-------
2022-04-28 15:42:59 evaluate.py[line:306] INFO eval finish, time=429.589s
2022-04-28 15:43:17 evaluate.py[line:36] INFO self.best_id=2, 0.15003808073115005
2022-04-28 15:43:17 evaluate.py[line:133] INFO Invalid events = 87.8
2022-04-28 15:43:17 evaluate.py[line:133] INFO Dropped events = 0.0
2022-04-28 15:43:17 evaluate.py[line:133] INFO Onset precision = 30.39
2022-04-28 15:43:17 evaluate.py[line:133] INFO Onset recall = 39.01
2022-04-28 15:43:17 evaluate.py[line:133] INFO Onset F1 = 32.95
2022-04-28 15:43:17 evaluate.py[line:133] INFO Onset AOR = 35.45
2022-04-28 15:43:17 evaluate.py[line:133] INFO Onset & offset precision = 19.38
2022-04-28 15:43:17 evaluate.py[line:133] INFO Onset & offset recall = 24.1
2022-04-28 15:43:17 evaluate.py[line:133] INFO Onset & offset F1 = 20.74
2022-04-28 15:43:17 evaluate.py[line:133] INFO Onset & offset AOR = 47.26
2022-04-28 15:43:17 evaluate.py[line:133] INFO Onset & velocity precision = 26.73
2022-04-28 15:43:17 evaluate.py[line:133] INFO Onset & velocity recall = 34.33
2022-04-28 15:43:17 evaluate.py[line:133] INFO Onset & velocity F1 = 28.98
2022-04-28 15:43:17 evaluate.py[line:133] INFO Onset & velocity AOR = 35.78
2022-04-28 15:43:17 evaluate.py[line:133] INFO Onset & offset & velocity precision = 17.18
2022-04-28 15:43:17 evaluate.py[line:133] INFO Onset & offset & velocity recall = 21.33
2022-04-28 15:43:17 evaluate.py[line:133] INFO Onset & offset & velocity F1 = 18.37
2022-04-28 15:43:17 evaluate.py[line:133] INFO Onset & offset & velocity AOR = 47.62
2022-04-28 15:43:17 evaluate.py[line:133] INFO Frame Precision = 18.32
2022-04-28 15:43:17 evaluate.py[line:133] INFO Frame Recall = 24.02
2022-04-28 15:43:17 evaluate.py[line:133] INFO Frame F1 = 20.39
2022-04-28 15:43:17 evaluate.py[line:133] INFO Onset & offset precision (0.01) = 10.26
2022-04-28 15:43:17 evaluate.py[line:133] INFO Onset & offset recall (0.01) = 13.31
2022-04-28 15:43:17 evaluate.py[line:133] INFO Onset & offset F1 (0.01) = 11.18
2022-04-28 15:43:17 evaluate.py[line:133] INFO Onset & offset precision (0.02) = 15.94
2022-04-28 15:43:17 evaluate.py[line:133] INFO Onset & offset recall (0.02) = 20.62
2022-04-28 15:43:17 evaluate.py[line:133] INFO Onset & offset F1 (0.02) = 17.35
2022-04-28 15:43:17 evaluate.py[line:133] INFO Onset & offset precision (0.05) = 30.39
2022-04-28 15:43:17 evaluate.py[line:133] INFO Onset & offset recall (0.05) = 39.01
2022-04-28 15:43:17 evaluate.py[line:133] INFO Onset & offset F1 (0.05) = 32.95
2022-04-28 15:43:17 evaluate.py[line:133] INFO Onset & offset precision (0.1) = 44.92
2022-04-28 15:43:17 evaluate.py[line:133] INFO Onset & offset recall (0.1) = 57.61
2022-04-28 15:43:17 evaluate.py[line:133] INFO Onset & offset F1 (0.1) = 48.67
2022-04-28 15:43:17 evaluate.py[line:133] INFO Onset & offset precision (0.2) = 56.25
2022-04-28 15:43:17 evaluate.py[line:133] INFO Onset & offset recall (0.2) = 72.04
2022-04-28 15:43:17 evaluate.py[line:133] INFO Onset & offset F1 (0.2) = 60.91
2022-04-28 15:43:17 evaluate.py[line:133] INFO Onset & offset precision (0.5) = 62.84
2022-04-28 15:43:17 evaluate.py[line:133] INFO Onset & offset recall (0.5) = 80.38
2022-04-28 15:43:17 evaluate.py[line:133] INFO Onset & offset F1 (0.5) = 68.0
2022-04-28 15:43:17 evaluate.py[line:133] INFO Invalid events [hist] = [ 54  66  76  91  95  98 104 123  96  75]
2022-04-28 15:43:17 evaluate.py[line:133] INFO Dropped events [hist] = [0 0 0 0 0 0 0 0 0 0]
2022-04-28 15:43:17 evaluate.py[line:133] INFO Onset precision [hist] = [22.03 20.98 44.36 20.39 25.17 25.92 36.97 39.65 16.32 52.15]
2022-04-28 15:43:17 evaluate.py[line:133] INFO Onset recall [hist] = [44.51 43.6  38.73 36.81 41.69 37.24 32.3  33.16 35.63 46.47]
2022-04-28 15:43:17 evaluate.py[line:133] INFO Onset F1 [hist] = [29.47 28.33 41.36 26.24 31.39 30.56 34.48 36.12 22.38 49.14]
2022-04-28 15:43:17 evaluate.py[line:133] INFO Onset AOR [hist] = [27.67 28.88 36.11 40.75 44.07 35.23 32.75 36.79 39.33 32.98]
2022-04-28 15:43:17 evaluate.py[line:133] INFO Onset & offset precision [hist] = [17.83 11.7  34.97 11.32 16.57 15.2  27.27 25.25  4.27 29.42]
2022-04-28 15:43:17 evaluate.py[line:133] INFO Onset & offset recall [hist] = [36.01 24.3  30.53 20.43 27.45 21.84 23.83 21.12  9.32 26.21]
2022-04-28 15:43:17 evaluate.py[line:133] INFO Onset & offset F1 [hist] = [23.85 15.79 32.6  14.57 20.66 17.93 25.44 23.    5.86 27.72]
2022-04-28 15:43:17 evaluate.py[line:133] INFO Onset & offset AOR [hist] = [32.58 39.35 41.76 55.61 53.22 47.19 40.58 48.5  69.31 44.51]
2022-04-28 15:43:17 evaluate.py[line:133] INFO Onset & velocity precision [hist] = [20.01 18.19 39.22 18.25 22.05 21.9  32.21 34.87 14.44 46.13]
2022-04-28 15:43:17 evaluate.py[line:133] INFO Onset & velocity recall [hist] = [40.43 37.79 34.24 32.94 36.52 31.47 28.14 29.16 31.55 41.11]
2022-04-28 15:43:17 evaluate.py[line:133] INFO Onset & velocity F1 [hist] = [26.77 24.56 36.56 23.48 27.49 25.83 30.04 31.76 19.82 43.47]
2022-04-28 15:43:17 evaluate.py[line:133] INFO Onset & velocity AOR [hist] = [27.59 29.07 37.25 41.09 44.29 35.48 32.83 37.7  39.21 33.3 ]
2022-04-28 15:43:17 evaluate.py[line:133] INFO Onset & offset & velocity precision [hist] = [16.31 10.35 31.29  9.97 14.31 12.34 23.6  22.83  3.8  27.03]
2022-04-28 15:43:17 evaluate.py[line:133] INFO Onset & offset & velocity recall [hist] = [32.96 21.51 27.32 18.   23.71 17.73 20.62 19.1   8.3  24.09]
2022-04-28 15:43:17 evaluate.py[line:133] INFO Onset & offset & velocity F1 [hist] = [21.82 13.98 29.17 12.83 17.85 14.55 22.01 20.8   5.21 25.47]
2022-04-28 15:43:17 evaluate.py[line:133] INFO Onset & offset & velocity AOR [hist] = [32.   39.07 42.72 55.89 53.82 48.56 40.75 48.47 70.16 44.82]
2022-04-28 15:43:17 evaluate.py[line:133] INFO Frame Precision [hist] = [12.13 19.04 18.47 21.24 17.67 14.66 12.13 28.28 21.22 18.34]
2022-04-28 15:43:17 evaluate.py[line:133] INFO Frame Recall [hist] = [16.91 27.87 19.54 22.14 33.91 22.07 18.73 21.71 36.47 20.88]
2022-04-28 15:43:17 evaluate.py[line:133] INFO Frame F1 [hist] = [14.13 22.62 18.99 21.68 23.23 17.62 14.72 24.57 26.83 19.53]
2022-04-28 15:43:17 evaluate.py[line:133] INFO Onset & offset precision (0.01) [hist] = [ 8.24  5.76 16.09  7.73 10.13  8.63 12.76 11.81  5.56 15.85]
2022-04-28 15:43:17 evaluate.py[line:133] INFO Onset & offset recall (0.01) [hist] = [16.65 11.98 14.05 13.95 16.79 12.39 11.15  9.88 12.13 14.13]
2022-04-28 15:43:17 evaluate.py[line:133] INFO Onset & offset F1 (0.01) [hist] = [11.02  7.78 15.    9.95 12.64 10.17 11.9  10.76  7.62 14.94]
2022-04-28 15:43:17 evaluate.py[line:133] INFO Onset & offset precision (0.02) [hist] = [13.   10.41 23.77 11.17 14.17 13.41 19.15 18.73  8.13 27.51]
2022-04-28 15:43:17 evaluate.py[line:133] INFO Onset & offset recall (0.02) [hist] = [26.27 21.63 20.76 20.16 23.47 19.26 16.73 15.66 17.75 24.51]
2022-04-28 15:43:17 evaluate.py[line:133] INFO Onset & offset F1 (0.02) [hist] = [17.4  14.05 22.16 14.37 17.67 15.81 17.86 17.06 11.15 25.92]
2022-04-28 15:43:17 evaluate.py[line:133] INFO Onset & offset precision (0.05) [hist] = [22.03 20.98 44.36 20.39 25.17 25.92 36.97 39.65 16.32 52.15]
2022-04-28 15:43:17 evaluate.py[line:133] INFO Onset & offset recall (0.05) [hist] = [44.51 43.6  38.73 36.81 41.69 37.24 32.3  33.16 35.63 46.47]
2022-04-28 15:43:17 evaluate.py[line:133] INFO Onset & offset F1 (0.05) [hist] = [29.47 28.33 41.36 26.24 31.39 30.56 34.48 36.12 22.38 49.14]
2022-04-28 15:43:17 evaluate.py[line:133] INFO Onset & offset precision (0.1) [hist] = [30.77 31.28 66.91 30.81 36.12 38.77 58.52 60.85 25.15 70.01]
2022-04-28 15:43:17 evaluate.py[line:133] INFO Onset & offset recall (0.1) [hist] = [62.17 65.   58.42 55.63 59.82 55.71 51.13 50.89 54.92 62.38]
2022-04-28 15:43:17 evaluate.py[line:133] INFO Onset & offset F1 (0.1) [hist] = [41.17 42.24 62.38 39.65 45.04 45.72 54.58 55.43 34.5  65.98]
2022-04-28 15:43:17 evaluate.py[line:133] INFO Onset & offset precision (0.2) [hist] = [37.72 36.49 85.13 40.93 44.48 48.04 74.83 76.1  32.92 85.86]
2022-04-28 15:43:17 evaluate.py[line:133] INFO Onset & offset recall (0.2) [hist] = [76.22 75.81 74.32 73.9  73.67 69.02 65.39 63.64 71.9  76.51]
2022-04-28 15:43:17 evaluate.py[line:133] INFO Onset & offset F1 (0.2) [hist] = [50.47 49.26 79.36 52.68 55.47 56.65 69.79 69.31 45.17 80.92]
2022-04-28 15:43:17 evaluate.py[line:133] INFO Onset & offset precision (0.5) [hist] = [41.31 40.07 93.22 46.31 48.08 54.01 86.51 87.12 37.89 93.89]
2022-04-28 15:43:17 evaluate.py[line:133] INFO Onset & offset recall (0.5) [hist] = [83.47 83.26 81.38 83.62 79.63 77.61 75.59 72.86 82.76 83.66]
2022-04-28 15:43:17 evaluate.py[line:133] INFO Onset & offset F1 (0.5) [hist] = [55.27 54.1  86.9  59.61 59.96 63.7  80.69 79.35 51.99 88.48]
2022-04-28 15:43:17 evaluate.py[line:133] INFO idx_set = {1217, 550, 1223, 8, 104, 116, 53, 342, 602, 92}
2022-04-28 15:43:17 evaluate.py[line:62] INFO generate the pianorolls of Sonata Op. 1
2022-04-28 15:46:38 evaluate.py[line:182] INFO {'epoch': 16, 'train_loss': [1.3141887243092083, 1.2110627709329127, 1.1565461473166965, 1.0994526177644728, 1.018694463372232, 0.963213595226407, 0.9126205612719059, 0.890573506716822, 0.8674457404762508, 0.8465246287733315, 0.8297918830811974, 0.8137192173302173, 0.795477375909686, 0.7841036961227659, 0.7713113086670643, 0.7593957691407595, 0.7524687358736984, 0.9245360613614321, 0.8942888791114092, 0.8742400480806828, 0.8509804552793503, 0.826563865914941, 0.817182691449799, 0.8033883079886437, 0.7944769836217166, 0.7798135279864072, 0.7752706526219844, 0.7546140073984862, 0.7428094369918106, 0.7401147857057527, 0.7439827458063764, 0.7277370017766952, 0.7360536680618924, 0.7210687686999637, 0.72843263566494, 0.7260992815097171, 0.715039526224136, 0.7179958812395735, 0.7093591129779816, 0.7088301014900209, 0.712396034995715, 0.6987856815258662, 0.7096873875459037, 0.6970773138602576, 0.7031373840570452, 0.6932758229970933, 0.6937332989772159, 0.6797525181251314, 0.6861315937836965, 0.6759808667500815, 0.6776028968890513, 0.6791383095582325, 0.6800536425908402, 0.6782783136765164, 0.6628604706128443, 0.6638566869497299, 0.6588202999035517, 0.6575828248262404, 0.6535018014907831, 0.6544652169942851, 0.6487118462721502, 0.6355613915125531, 0.6401546649138131, 0.6473885522286099, 0.6352404542764031, 0.6287997629455333, 0.6349333792924883, 0.6346548732121786, 0.6250110256671902, 0.6257812452316284, 0.6211954383055374, 0.6233203500509265, 0.6158975593249003, 0.6133768145243323, 0.6167026732365287, 0.6165148663520819, 0.6140724377830824, 0.6017857621113458, 0.6022831275065743, 0.6004479160904886, 0.6005719329913455, 0.6069482551018394, 0.6025993289550147, 0.595463846901716, 0.5952032137910523, 0.598032941420873, 0.5887115853031479, 0.5886840436855953, 0.585947816967964, 0.5815059106548627, 0.5892761475841206, 0.5813233925898866, 0.5936448723077774, 0.5911552496751145, 0.5901787589987124, 0.5843660991390549, 0.5784550374746327, 0.5779392730196317, 0.5779836037755014, 0.5705107723673186, 0.5675358910361926, 0.5671992056629285, 0.5709523966908454, 0.5712140346566837, 0.5653047363956767, 0.5579876120885217, 0.566470968524615, 0.5642056551575659, 0.5653793903191887, 0.5556832727789877, 0.5685228450099628, 0.5607256602247547, 0.5546614005168282, 0.5581303760409354, 0.5560679555932683, 0.5530065504709878, 0.5435874130328495, 0.5544345049063367, 0.5459149829546609, 0.5477008268994802, 0.5488779906431834, 0.5411230062445003, 0.5441761466860773, 0.5407477254668872, 0.552989022433757, 0.5514785493413605, 0.5434192029635113, 0.5393143558502198, 0.537421401043733, 0.5538713052868839, 0.5304100733002024, 0.5398472312092782, 0.5303056569894153, 0.5423930541674293, 0.5361493579546609, 0.530334881544113, 0.52994087378184, 0.5310133662150839, 0.536765996615092, 0.5293812751770025, 0.5314745256304741, 0.5313181499640146, 0.5406263150771458, 0.5373788032929098, 0.5266818722089136, 0.5208843307693796, 0.5200015947222709, 0.5184061593810715, 0.5258351691563923, 0.5217189278205242, 0.5170326922337213, 0.527235856850942, 0.51678019831578, 0.5279447756210957, 0.5173283504446343, 0.5183938461845204, 0.5224433516462647, 0.5094227792819342, 0.5098594009876249, 0.5149988858898482, 0.5215605667233472, 0.5059625375270845, 0.5104914428790411, 0.5196823792656259, 0.5231783524155617, 0.5150748819112786, 0.5117914089560506, 0.5100919897357619, 0.5298220012585321, 0.5160192171732588, 0.5071378686030705, 0.5176023951172826, 0.517382633090019, 0.5047230483317867, 0.5101570691665015, 0.5049660407503451, 0.5145130189259847, 0.5168506271640464, 0.5059591888388, 0.5178572207689284, 0.5067146081725759, 0.5032133032878237, 0.49609724869330724, 0.4998165007432301, 0.5021294971307118, 0.4989079425732294, 0.502608638604482, 0.5064187507828076, 0.5050557077924408, 0.504110698699951, 0.5067291556795441, 0.4994980895275142, 0.502718570232391, 0.4995938109358152, 0.49371129711469014, 0.4955470612645149, 0.4993052941560745, 0.4983007642626762, 0.4949420437216759, 0.505616381267707, 0.49944556206464785, 0.5041579595208167, 0.49721240689357143, 0.49571362952391307, 0.49758675754070303, 0.4902461067835491, 0.5054446216424306, 0.4911682269970576, 0.4938395047187805, 0.49274088184712295, 0.48541088203589133, 0.4873857586582502, 0.48259097774823506, 0.48240511178970336, 0.47759162455797194, 0.47898795853058496, 0.4732593251268069, 0.47467225859562556, 0.4877217610677083, 0.4706791310509046, 0.4887525335947673, 0.47654249250888825, 0.4802116416891416, 0.4860309939583143, 0.46678056289752323, 0.47870625466108324, 0.4774152236183484, 0.4727095733491742, 0.47103904604911806, 0.47746049622694653, 0.47506468147039416, 0.4724298396706581, 0.4828278895219167, 0.4806363728642464, 0.4831629282236099, 0.46972436279058455, 0.4808604344725609, 0.4847900462150574, 0.47195099035898846, 0.45995503415664035, 0.474797576268514, 0.47532048940658567, 0.4644754605491956, 0.47780995786190034, 0.48252199560403825, 0.4774792363651756], 'eval_loss': [0.890573506716822, 0.7593957691407595, 0.817182691449799, 0.7401147857057527, 0.6797525181251314, 0.6287997629455333, 0.595463846901716, 0.5671992056629285, 0.5477008268994802, 0.5310133662150839, 0.5183938461845204, 0.5047230483317867, 0.4994980895275142, 0.49274088184712295, 0.4727095733491742, 0.4774792363651756]}
2022-04-28 15:46:38 evaluate.py[line:191] INFO average train_loss=0.5950240313437033
2022-04-28 15:46:38 evaluate.py[line:191] INFO average eval_loss=0.6076713097105187
